"use strict";window.thebaseShop={createCookie:function(e,t,o,i){var a;i=o?(a=new Date,"minutes"==i?a.setTime(a.getTime()+60*o*1e3):"hours"==i?a.setTime(a.getTime()+60*o*60*1e3):a.setTime(a.getTime()+24*o*60*60*1e3),"; expires="+a.toGMTString()):"",document.cookie=thebaseShopConfig.siteSlug+"-"+e+"="+t+i+"; path=/"},getCookie:function(e){e=("; "+document.cookie).split("; "+thebaseShopConfig.siteSlug+"-"+e+"=");if(2==e.length)return e.pop().split(";").shift()},initShopToggle:function(){if(document.body.classList.contains("woocommerce")||document.body.classList.contains("archive")){var o=document.querySelectorAll(".thebase-toggle-shop-layout");if(o.length)for(var e=window.thebaseShop.getCookie("shopLayout"),t=(!e||"grid"!==e&&"list"!==e||(e=document.querySelector(".thebase-toggle-"+e),window.thebaseShop.toggleShop(e)),0);t<o.length;t++)!function(t){o[t].addEventListener("click",function(e){e.preventDefault(),window.thebaseShop.toggleShop(o[t])})}(t)}},toggleShop:function(e){var t;e.classList.contains("toggle-active")||(e.classList.add("toggle-active"),window.thebaseShop.createCookie("shopLayout",e.dataset.archiveToggle,30,"days")),("grid"===e.dataset.archiveToggle?document.querySelector(".thebase-toggle-list"):document.querySelector(".thebase-toggle-grid")).classList.remove("toggle-active"),(t=(t="grid"===e.dataset.archiveToggle?document.querySelector(".woo-archive-loop.products-list-view"):document.querySelector(".woo-archive-loop.products-grid-view"))||document.querySelector(".woo-archive-loop")).classList.remove("products-list-view"),t.classList.remove("products-grid-view"),t.classList.add("products-"+e.dataset.archiveToggle+"-view")},initShopCatToggle:function(){var e=document.querySelectorAll(".widget_product_categories");if(e.length)for(var t=0;t<e.length;t++){var o=e[t].querySelectorAll(".cat-parent");if(o.length)for(var i=0;i<o.length;i++){var a=document.createElement("button");a.setAttribute("aria-label",thebaseConfig.screenReader.expand),a.classList.add("thebase-cat-toggle-sub"),(o[i].classList.contains("current-cat")||o[i].classList.contains("current-cat-parent"))&&(a.classList.add("toggle-active"),a.setAttribute("aria-label",thebaseConfig.screenReader.collapse),o[i].classList.add("sub-toggle-active")),o[i].appendChild(a),a.addEventListener("click",function(e){e.preventDefault(),window.thebaseShop.toggleCatShop(e)})}}},toggleCatShop:function(e){e=e.srcElement;e.classList.contains("toggle-active")?e.classList.remove("toggle-active"):e.classList.add("toggle-active"),e.parentNode.classList.contains("sub-toggle-active")?e.parentNode.classList.remove("sub-toggle-active"):e.parentNode.classList.add("sub-toggle-active")},init:function(){window.thebaseShop.initShopToggle(),window.thebaseShop.initShopCatToggle()}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.thebaseShop.init):window.thebaseShop.init();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3AtdG9nZ2xlLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsInRoZWJhc2VTaG9wIiwiY3JlYXRlQ29va2llIiwibmFtZSIsInZhbHVlIiwibGVuZ3RoIiwidW5pdCIsImRhdGUiLCJnZXRUaW1lIiwic2V0VGltZSIsInRvR01UU3RyaW5nIiwiZG9jdW1lbnQiLCJleHBpcmVzIiwidGhlYmFzZVNob3BDb25maWciLCJwYXJ0cyIsImNvb2tpZSIsInNwbGl0Iiwic2l0ZVNsdWciLCJwb3AiLCJzaGlmdCIsImluaXRTaG9wVG9nZ2xlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJib2R5Iiwic2hvcFRvZ2dsZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzaG9wQ29va2llIiwic3RhcnRUb2dnbGUiLCJxdWVyeVNlbGVjdG9yIiwidG9nZ2xlU2hvcCIsImkiLCJnZXRDb29raWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJlbGVtZW50IiwiYWRkIiwiZGF0YXNldCIsImFyY2hpdmVUb2dnbGUiLCJyZW1vdmUiLCJwcm9kdWN0cyIsIm90aGVyVG9nZ2xlIiwiaW5pdFNob3BDYXRUb2dnbGUiLCJjYXRUb2dnbGUiLCJjaGlsZFVsIiwibiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJ0aGViYXNlQ29uZmlnIiwic2NyZWVuUmVhZGVyIiwiZXhwYW5kIiwiY29sbGFwc2UiLCJhcHBlbmRDaGlsZCIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlQ2F0U2hvcCIsInNyY0VsZW1lbnQiLCJwYXJlbnROb2RlIiwiaW5pdCIsInJlYWR5U3RhdGUiXSwibWFwcGluZ3MiOiJhQU1DQSxPQUFBQyxZQUFXLENBQ1hDLGFBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FHRSxJQUZJQyxFQU9GQSxFQUxHRixHQUZERSxFQUFDTixJQUFBQSxLQUNOQyxXQUFjSSxFQUNiQyxFQUFLRixRQUFTRSxFQUFBQyxVQUFBLEdBQUFILEVBQUEsS0FDTCxTQUFHQyxFQUlW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dEIsU0FBVUMsaUJBR3pCcUIsRUFBQUEsVUFBUUMsT0FBR3ZCLGlCQUZYYSxFQUFBQSxVQUFRYixJQUFBQSxpQkF1QkxhLEVBQVFxQixXQUFXbEMsVUFBVUMsU0FBUyxxQkFqQnpDVyxFQUFBQSxXQUFNbUIsVUFBQUEsT0FBTixxQkFGRFQsRUFBQUEsV0FBV1EsVUFBQUEsSUFBYWpCLHNCQU16QnNCLEtBQUEsV0FDRHhELE9BQUFDLFlBQUFtQixpQkFDRHBCLE9BL0dtQkMsWUFBQXdDLHNCQWlIdEIsWUFBQTlCLFNBQUE4QyxXQUVFSixTQUFBQSxpQkFBZSxtQkFBa0JyRCxPQUFBQyxZQUFBdUQsTUFFaEN4RCxPQUFBQyxZQUFlb0IiLCJmaWxlIjoic2hvcC10b2dnbGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHRoZWJhc2VTaG9wQ29uZmlnICovXHJcbi8qKlxyXG4gKiBGaWxlIFNob3AtaW5pdC5qcy5cclxuICogR2V0cyBTaG9wIHRvZ2dsZSB3b3JraW5nLlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0d2luZG93LnRoZWJhc2VTaG9wID0ge1xyXG5cdFx0Y3JlYXRlQ29va2llOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUsIGxlbmd0aCwgdW5pdCApIHtcclxuXHRcdFx0aWYgKCBsZW5ndGggKSB7XHJcblx0XHRcdFx0dmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdGlmICggJ21pbnV0ZXMnID09IHVuaXQgKSB7XHJcblx0XHRcdFx0XHRkYXRlLnNldFRpbWUoIGRhdGUuZ2V0VGltZSgpICsgKCBsZW5ndGggKiA2MCAqIDEwMDAgKSApO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoICdob3VycycgPT0gdW5pdCApIHtcclxuXHRcdFx0XHRcdGRhdGUuc2V0VGltZSggZGF0ZS5nZXRUaW1lKCkgKyAoIGxlbmd0aCAqIDYwICogNjAgKiAxMDAwICkgKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZGF0ZS5zZXRUaW1lKCBkYXRlLmdldFRpbWUoKSsobGVuZ3RoKjI0KjYwKjYwKjEwMDApKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGV4cGlyZXMgPSBcIjsgZXhwaXJlcz1cIitkYXRlLnRvR01UU3RyaW5nKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIGV4cGlyZXMgPSBcIlwiO1xyXG5cdFx0XHR9XHJcblx0XHJcblx0XHRcdGRvY3VtZW50LmNvb2tpZSA9IHRoZWJhc2VTaG9wQ29uZmlnLnNpdGVTbHVnICsgJy0nICsgbmFtZStcIj1cIit2YWx1ZStleHBpcmVzK1wiOyBwYXRoPS9cIjtcclxuXHRcdH0sXHJcblx0XHQvKipcclxuXHRcdCAqIHRoZSBzY3JpcHQgdG8gZ2V0IGxheW91dCBjb29raWVcclxuXHRcdCAqL1xyXG5cdFx0Z2V0Q29va2llOiBmdW5jdGlvbiAoIG5hbWUgKSB7XHJcblx0XHRcdHZhciB2YWx1ZSA9IFwiOyBcIiArIGRvY3VtZW50LmNvb2tpZTtcclxuXHRcdFx0dmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoXCI7IFwiICsgdGhlYmFzZVNob3BDb25maWcuc2l0ZVNsdWcgKyAnLScgKyBuYW1lICsgXCI9XCIpO1xyXG5cdFx0XHRpZiAoIHBhcnRzLmxlbmd0aCA9PSAyICkgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KFwiO1wiKS5zaGlmdCgpO1xyXG5cdFx0fSxcclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhdGUgdGhlIHNjcmlwdCB0byB0b2dnbGUgc2hvcCBsYXlvdXRcclxuXHRcdCAqL1xyXG5cdFx0aW5pdFNob3BUb2dnbGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoICEgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoICd3b29jb21tZXJjZScgKSAmJiAhIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCAnYXJjaGl2ZScgKSApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBzaG9wVG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy50aGViYXNlLXRvZ2dsZS1zaG9wLWxheW91dCcgKTtcclxuXHJcblx0XHRcdC8vIE5vIHBvaW50IGlmIG5vIG5hdnMuXHJcblx0XHRcdGlmICggISBzaG9wVG9nZ2xlLmxlbmd0aCApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHZhciBzaG9wQ29va2llID0gd2luZG93LnRoZWJhc2VTaG9wLmdldENvb2tpZSggJ3Nob3BMYXlvdXQnICk7XHJcblx0XHRcdGlmICggc2hvcENvb2tpZSAmJiAoICdncmlkJyA9PT0gc2hvcENvb2tpZSB8fCAnbGlzdCcgPT09IHNob3BDb29raWUgKSApIHtcclxuXHRcdFx0XHR2YXIgc3RhcnRUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLnRoZWJhc2UtdG9nZ2xlLScgKyBzaG9wQ29va2llICk7XHJcblx0XHRcdFx0d2luZG93LnRoZWJhc2VTaG9wLnRvZ2dsZVNob3AoIHN0YXJ0VG9nZ2xlICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHNob3BUb2dnbGUubGVuZ3RoOyBpKysgKSB7XHJcblx0XHRcdFx0c2hvcFRvZ2dsZVsgaSBdLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdHdpbmRvdy50aGViYXNlU2hvcC50b2dnbGVTaG9wKCBzaG9wVG9nZ2xlWyBpIF0gKTtcclxuXHRcdFx0XHR9ICk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYXRlIHRoZSBzY3JpcHQgdG8gdG9nZ2xlIHNob3AgbGF5b3V0XHJcblx0XHQgKi9cclxuXHRcdHRvZ2dsZVNob3A6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xyXG5cdFx0XHRpZiAoICEgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3RvZ2dsZS1hY3RpdmUnKSApIHtcclxuXHRcdFx0XHRlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RvZ2dsZS1hY3RpdmUnKTtcclxuXHRcdFx0XHR3aW5kb3cudGhlYmFzZVNob3AuY3JlYXRlQ29va2llKCAnc2hvcExheW91dCcsIGVsZW1lbnQuZGF0YXNldC5hcmNoaXZlVG9nZ2xlLCAzMCwgJ2RheXMnICk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCAnZ3JpZCcgPT09IGVsZW1lbnQuZGF0YXNldC5hcmNoaXZlVG9nZ2xlICkge1xyXG5cdFx0XHRcdHZhciBvdGhlclRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcudGhlYmFzZS10b2dnbGUtbGlzdCcgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgb3RoZXJUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLnRoZWJhc2UtdG9nZ2xlLWdyaWQnICk7XHJcblx0XHRcdH1cclxuXHRcdFx0b3RoZXJUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgndG9nZ2xlLWFjdGl2ZScpO1xyXG5cdFx0XHRpZiAoICdncmlkJyA9PT0gZWxlbWVudC5kYXRhc2V0LmFyY2hpdmVUb2dnbGUgKSB7XHJcblx0XHRcdFx0dmFyIHByb2R1Y3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggJy53b28tYXJjaGl2ZS1sb29wLnByb2R1Y3RzLWxpc3QtdmlldycgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgcHJvZHVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCAnLndvby1hcmNoaXZlLWxvb3AucHJvZHVjdHMtZ3JpZC12aWV3JyApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggISBwcm9kdWN0cyApIHtcclxuXHRcdFx0XHRwcm9kdWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcud29vLWFyY2hpdmUtbG9vcCcgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRwcm9kdWN0cy5jbGFzc0xpc3QucmVtb3ZlKCAncHJvZHVjdHMtbGlzdC12aWV3JyApO1xyXG5cdFx0XHRwcm9kdWN0cy5jbGFzc0xpc3QucmVtb3ZlKCAncHJvZHVjdHMtZ3JpZC12aWV3JyApO1xyXG5cdFx0XHRwcm9kdWN0cy5jbGFzc0xpc3QuYWRkKCAncHJvZHVjdHMtJyArIGVsZW1lbnQuZGF0YXNldC5hcmNoaXZlVG9nZ2xlICsgJy12aWV3JyApO1xyXG5cdFx0fSxcclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhdGUgdGhlIHNjcmlwdCB0byB0b2dnbGUgc2hvcCBsYXlvdXRcclxuXHRcdCAqL1xyXG5cdFx0aW5pdFNob3BDYXRUb2dnbGU6IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0dmFyIGNhdFRvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICcud2lkZ2V0X3Byb2R1Y3RfY2F0ZWdvcmllcycgKTtcclxuXHJcblx0XHRcdC8vIE5vIHBvaW50IGlmIG5vIG5hdnMuXHJcblx0XHRcdGlmICggISBjYXRUb2dnbGUubGVuZ3RoICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBjYXRUb2dnbGUubGVuZ3RoOyBpKysgKSB7XHJcblx0XHRcdFx0dmFyIGNoaWxkVWwgPSBjYXRUb2dnbGVbIGkgXS5xdWVyeVNlbGVjdG9yQWxsKCAnLmNhdC1wYXJlbnQnICk7XHJcblx0XHRcdFx0aWYgKCBjaGlsZFVsLmxlbmd0aCApIHtcclxuXHRcdFx0XHRcdGZvciAoIGxldCBuID0gMDsgbiA8IGNoaWxkVWwubGVuZ3RoOyBuKysgKSB7XHJcblx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRcdFx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnYXJpYS1sYWJlbCcsIHRoZWJhc2VDb25maWcuc2NyZWVuUmVhZGVyLmV4cGFuZCApO1xyXG5cdFx0XHRcdFx0XHRlbGVtZW50LmNsYXNzTGlzdC5hZGQoICd0aGViYXNlLWNhdC10b2dnbGUtc3ViJyApO1xyXG5cdFx0XHRcdFx0XHRpZiAoIGNoaWxkVWxbbl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjdXJyZW50LWNhdCcpIHx8IGNoaWxkVWxbbl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjdXJyZW50LWNhdC1wYXJlbnQnKSApIHtcclxuXHRcdFx0XHRcdFx0XHRlbGVtZW50LmNsYXNzTGlzdC5hZGQoICd0b2dnbGUtYWN0aXZlJyApO1xyXG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnYXJpYS1sYWJlbCcsIHRoZWJhc2VDb25maWcuc2NyZWVuUmVhZGVyLmNvbGxhcHNlICk7XHJcblx0XHRcdFx0XHRcdFx0Y2hpbGRVbFtuXS5jbGFzc0xpc3QuYWRkKCAnc3ViLXRvZ2dsZS1hY3RpdmUnICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Y2hpbGRVbFtuXS5hcHBlbmRDaGlsZCggZWxlbWVudCApO1xyXG5cdFx0XHRcdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGZ1bmN0aW9uICggZXZlbnQgKSB7XHJcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHR3aW5kb3cudGhlYmFzZVNob3AudG9nZ2xlQ2F0U2hvcCggZXZlbnQgKTtcclxuXHRcdFx0XHRcdFx0fSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhdGUgdGhlIHNjcmlwdCB0byB0b2dnbGUgc2hvcCBsYXlvdXRcclxuXHRcdCAqL1xyXG5cdFx0dG9nZ2xlQ2F0U2hvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHR2YXIgZWxlbWVudCA9IGV2ZW50LnNyY0VsZW1lbnQ7XHJcblx0XHRcdGlmICggISBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygndG9nZ2xlLWFjdGl2ZScpICkge1xyXG5cdFx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndG9nZ2xlLWFjdGl2ZScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgndG9nZ2xlLWFjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggISBlbGVtZW50LnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWItdG9nZ2xlLWFjdGl2ZScpICkge1xyXG5cdFx0XHRcdGVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdzdWItdG9nZ2xlLWFjdGl2ZScpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVsZW1lbnQucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdzdWItdG9nZ2xlLWFjdGl2ZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0Ly8gSW5pdGlhdGUgdGhlIG1lbnVzIHdoZW4gdGhlIERPTSBsb2Fkcy5cclxuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR3aW5kb3cudGhlYmFzZVNob3AuaW5pdFNob3BUb2dnbGUoKTtcclxuXHRcdFx0d2luZG93LnRoZWJhc2VTaG9wLmluaXRTaG9wQ2F0VG9nZ2xlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICggJ2xvYWRpbmcnID09PSBkb2N1bWVudC5yZWFkeVN0YXRlICkge1xyXG5cdFx0Ly8gVGhlIERPTSBoYXMgbm90IHlldCBiZWVuIGxvYWRlZC5cclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdET01Db250ZW50TG9hZGVkJywgd2luZG93LnRoZWJhc2VTaG9wLmluaXQgKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gVGhlIERPTSBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC5cclxuXHRcdHdpbmRvdy50aGViYXNlU2hvcC5pbml0KCk7XHJcblx0fVxyXG59KSgpO1xyXG4iXX0=